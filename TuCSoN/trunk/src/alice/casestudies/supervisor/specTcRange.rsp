
% ReSpecT specification used into tc_range ( LIGHT SUPERVISOR CASE STUDY )

% Initialization tuples
reaction(
	time(200),
	endo,
	(
		out(input(ag_range)),
		out(min(0)),
		out(max(100)),
		out(range(0,100))
	)
).

% Checks reading permissions
reaction(
	rdp(X),
	(exo, request),
	(
		in(X),
		event_source(Src), rd(input(Src)),
		out(X)
	)
).

% Reacting to environment event
reaction(
	getEnv(min,X),
	from_env,
	(
		in(min(OldX)),
		out(min(X))
	)
).

reaction(
	getEnv(max,X),
	from_env,
	(
		in(max(OldX)),
		out(max(X))
	)
).

% Checks for max value to build a range tuple
reaction(
	out(min(MinValue)),
	(internal, response),
	(
		rd(max(MaxValue)),
		MaxValue >= MinValue,
		in(range(OldMin,OldMax)),
		out(range(MinValue,MaxValue))
	)
).

% Checks for min value to build a range tuple
reaction(
	out(max(MaxValue)),
	(internal, response),
	(
		rd(min(MinValue)),
		MaxValue >= MinValue,
		in(range(OldMin,OldMax)),
		out(range(MinValue,MaxValue))
	)
).
		